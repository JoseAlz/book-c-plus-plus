<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Dereferencing Pointers</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part294.htm">&lt; Previous</a><span> | </span><a href="../Beginning_Cpp_Through_Game_Programming.html">Contents</a><span> | </span><a href="part296.htm">Next &gt;</a></p><p style="padding-top: 8pt;padding-left: 41pt;text-indent: 0pt;text-align: justify;"><h1 href="#bookmark9">Dereferencing Pointers</h1></p><p style="padding-top: 3pt;padding-left: 41pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Just as you dereference an iterator to access the object to which it refers, you dereference a pointer to access the object to which it points. You accomplish the dereferencing the same way<span class="s12">—</span>with <span class="s35">*</span>, the dereference operator. I put the dereference operator to work with the following line, which displays <span class="s35">1000 </span>because <span class="s35">*pScore </span>accesses the value stored in <span class="s35">score</span>.</p><p class="s35" style="padding-top: 5pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">cout &lt;&lt; &quot;*pScore is: &quot; &lt;&lt; *pScore &lt;&lt; &quot;\n\n&quot;; //value pointed to by pointer</p><p style="padding-top: 5pt;padding-left: 41pt;text-indent: 0pt;text-align: justify;">Remember, <span class="s35">*pScore </span>means, <span class="s12">“</span>the object to which <span class="s35">pScore </span>points.<span class="s12">”</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 41pt;text-indent: 0pt;text-align: left;">Tra p</p><p style="padding-left: 41pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="522" height="1" alt="image" src="Image_276.png"/></span></p><p class="s19" style="padding-top: 6pt;padding-bottom: 4pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">Don’t dereference a null pointer because it could lead to disastrous results.</p><p style="padding-left: 59pt;text-indent: 0pt;line-height: 2pt;text-align: left;"><span><img width="498" height="3" alt="image" src="Image_277.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 41pt;text-indent: 0pt;text-align: justify;">Next, I add <span class="s35">500 </span>to <span class="s35">score </span>with the following line.</p><p class="s35" style="padding-top: 6pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">score += 500;</p><p style="padding-top: 5pt;padding-left: 41pt;text-indent: 0pt;text-align: justify;">When I send <span class="s35">score </span>to <span class="s35">cout</span>, <span class="s35">1500 </span>is displayed, as you<span class="s12">’</span>d expect. When I send</p><p class="s35" style="padding-left: 41pt;text-indent: 0pt;line-height: 106%;text-align: left;">*pScore <span class="p">to </span>cout<span class="p">, the displayed once more.</span></p><p style="padding-left: 3pt;text-indent: 0pt;text-align: left;">contents of</p><p class="s35" style="padding-top: 3pt;padding-left: 3pt;text-indent: 0pt;text-align: left;">score</p><p style="padding-left: 3pt;text-indent: 0pt;text-align: left;">are</p><p style="padding-left: 3pt;text-indent: 0pt;text-align: left;">again</p><p style="padding-left: 3pt;text-indent: 0pt;text-align: left;">sent</p><p style="padding-left: 3pt;text-indent: 0pt;text-align: left;">to <span class="s35">cout</span>, and <span class="s35">1500 </span>is</p><p class="s19" style="padding-top: 2pt;padding-left: 295pt;text-indent: 0pt;text-align: left;"><a name="bookmark855">Understanding Pointer Basics 229</a><a name="bookmark856">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 41pt;text-indent: 0pt;text-align: justify;">Next, I add <span class="s35">500 </span>to the value to which <span class="s35">pScore </span>points with the following line.</p><p class="s35" style="padding-top: 6pt;padding-left: 62pt;text-indent: 0pt;text-align: justify;">*pScore += 500;</p><p style="padding-top: 5pt;padding-left: 41pt;text-indent: 0pt;line-height: 107%;text-align: justify;">Because <span class="s35">pScore </span>points to <span class="s35">score</span>, the preceding line of code adds <span class="s35">500 </span>to <span class="s35">score</span>. Therefore, when I next send <span class="s35">score </span>to <span class="s35">cout</span>, <span class="s35">2000 </span>is displayed. Then, when I send</p><p class="s35" style="padding-left: 41pt;text-indent: 0pt;line-height: 14pt;text-align: justify;">*pScore <span class="p">to </span>cout<span class="s51">.. .</span><span class="p">you guessed it, </span>2000 <span class="p">is displayed again.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 41pt;text-indent: 0pt;text-align: left;">Tra p</p><p style="padding-left: 41pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="525" height="1" alt="image" src="Image_278.png"/></span></p><p class="s19" style="padding-top: 5pt;padding-left: 59pt;text-indent: 0pt;text-align: justify;"><a name="bookmark813">Don’t change the value of a pointer when you want to change the value of the object to which the pointer points. For example, if I want to add </a><span class="s35">500 </span>to the <span class="s35">int </span>that <span class="s35">pScore </span>points to, then the following line would be a big mistake.<a name="bookmark857">&zwnj;</a></p><p class="s35" style="padding-top: 5pt;padding-left: 60pt;text-indent: 0pt;text-align: justify;">pScore += 500;</p><p class="s19" style="padding-top: 4pt;padding-bottom: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: justify;">The preceding code adds <span class="s35">500 </span>to the address stored in <span class="s35">pScore</span>, not to the value to which <span class="s35">pScore </span>originally pointed. As a result, <span class="s35">pScore </span>now points to some address that might contain anything. Dereferencing a pointer like this can lead to disastrous results.</p><p style="padding-left: 59pt;text-indent: 0pt;line-height: 2pt;text-align: left;"><span><img width="498" height="3" alt="image" src="Image_279.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part294.htm">&lt; Previous</a><span> | </span><a href="../Beginning_Cpp_Through_Game_Programming.html">Contents</a><span> | </span><a href="part296.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
